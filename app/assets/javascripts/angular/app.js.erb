var lawaApp = angular.module('lawaApp', ['ngRoute','underscore', 'lawaApp.resources', 'lawaApp.services']);

angular.module('lawaApp.resources',[]);
angular.module('lawaApp.services',[]);

lawaApp.config([
  '$httpProvider','$routeProvider','$locationProvider', function($httpProvider,$routeProvider,$locationProvider) {
    $locationProvider.html5Mode({ enabled: true, requireBase: false });
    $httpProvider.defaults.headers.common['X-CSRF-Token'] = $('meta[name=csrf-token]').attr('content');

    $routeProvider.when('/',{
        templateUrl: '<%= asset_path 'nodes.html' %>',
        controller: 'NodeCtrl'
    });

    $routeProvider.when('/error',{
        templateUrl: '<%= asset_path 'error.html' %>',
        controller: 'NodeCtrl'
    });
  }

]);


lawaApp.run(['$rootScope',function($rootScope){
  $rootScope.bodyClass = "default";
  $rootScope.setBodyClass = function(className){
    $rootScope.bodyClass = className;
  };
}]);
